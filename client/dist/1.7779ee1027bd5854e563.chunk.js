webpackJsonp([1],{r5ef:function(n,l,t){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var u=t("WT6e"),e=function(){},o=t("4qxJ"),c=t("qmzJ"),i=t("SYiH"),r=t("0DDR"),a=t("2MpB"),_=t("h4vs"),d=t("1Wt5"),s=t("LOqq"),p=t("uNW3"),g=t("aKv1"),h=t("A7mk"),m=t("B1h7"),O=t("vtGr"),M=t("kzt6"),P=t("Xjw4"),C=t("o0PC"),f=t("5Zt4"),b=t("fTw0"),x=t("bfOx"),v=t("tzB8"),w=t("YaPU"),y=function(){function n(n,l){this.userService=n,this.router=l}return n.prototype.ngOnInit=function(){this.reloadState()},n.prototype.reloadState=function(){var n=this;this.userService.getOrders().subscribe(function(l){n.orders$=w.a.of(l)})},n.prototype.statusStr=function(n){return 0===n?"Requested":1===n?"Booked":2===n?"Overdue":3===n?"Closed":4===n?"Extended":void 0},n.prototype.goToDocument=function(n){this.router.navigate(["/documents",n.toString()])},n.prototype.extendOrder=function(n){var l=this;this.userService.setStatusForMyOrder(n,4).subscribe(function(n){l.userService.getOrders().subscribe(function(n){l.orders$=w.a.of(n),l.reloadState()})})},n}(),k=u._2({encapsulation:0,styles:[[".document-list[_ngcontent-%COMP%]{margin:50px 0}.document-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:0}.document-list[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{padding:8px 20px 8px 10px;cursor:pointer;float:right;height:34px}.document-list[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]   .loupe[_ngcontent-%COMP%]{width:20px;height:20px;display:inline-block}.document-list[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{background:0 0;border:0;line-height:10px;width:50px;outline:0;position:relative}.document-list[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{top:8px;right:10px;position:absolute}.document-list[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]{height:34px;margin:0 10px 0 0}.document-list[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{float:left}.document-list[_ngcontent-%COMP%]   #documentSearchProps[_ngcontent-%COMP%]{width:100px;height:20px;padding:0 27px 0 0;margin-right:15px;margin-top:8px;border-right:1px solid #dee2e6}.document-list[_ngcontent-%COMP%]   #documentSearchProps[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{float:right}.document-list[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{right:22px!important;top:32px!important}.document-list[_ngcontent-%COMP%]   #documentSearch[_ngcontent-%COMP%]{padding-right:165px}.document-list[_ngcontent-%COMP%]   .thumb-wrap[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:3px;-webkit-box-shadow:0 3px 5px #eee;box-shadow:0 3px 5px #eee;overflow:hidden}.document-list[_ngcontent-%COMP%]   .thumb-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.document-list[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{background:#fff;padding:40px}.document-list[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .content-center[_ngcontent-%COMP%]{font-size:14px;text-align:center}.document-list[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .closed[_ngcontent-%COMP%], .document-list[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .overdue-zero[_ngcontent-%COMP%]{color:#a0a0a0}.document-list[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.document-list[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6}.document-list[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;vertical-align:center}.document-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top:none}.document-list[_ngcontent-%COMP%]   .document-authors[_ngcontent-%COMP%]{padding:0;margin-bottom:5px;color:#777}.document-list[_ngcontent-%COMP%]   .document-authors[_ngcontent-%COMP%]   .document-author[_ngcontent-%COMP%]{list-style:none;padding:0;display:block}.document-list[_ngcontent-%COMP%]   .document-link[_ngcontent-%COMP%]{display:block;color:inherit;text-decoration:none}.document-list[_ngcontent-%COMP%]   .document-title[_ngcontent-%COMP%]{width:100%;float:left;color:#7b79b7;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.document-list[_ngcontent-%COMP%]   .document-type[_ngcontent-%COMP%]{font-size:15px;color:#777}.document-list[_ngcontent-%COMP%]   .table-link[_ngcontent-%COMP%]{float:left;margin:9px;cursor:pointer;outline:0;opacity:.2;-webkit-transition:opacity .2s;transition:opacity .2s}.document-list[_ngcontent-%COMP%]   .table-link[_ngcontent-%COMP%]:hover{opacity:.5!important}.document-list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .table-link[_ngcontent-%COMP%]{opacity:.3}.document-list[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background-color:#ff0}.document-list[_ngcontent-%COMP%]   #orderStatus[_ngcontent-%COMP%]{width:100px;height:20px;padding:0 27px 0 0;margin-top:8px}.document-list[_ngcontent-%COMP%]   #orderStatus[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{float:right}.document-list[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.document-list[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{margin-top:0!important}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;overflow:inherit;min-width:830px}"]],data:{}});function S(n){return u._28(0,[(n()(),u._4(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),u._26(-1,null,["\n              "])),(n()(),u._4(2,0,null,null,1,"button",[["class","btn btn-link"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.extendOrder(n.parent.context.$implicit.order_id)&&u),u},null,null)),(n()(),u._26(-1,null,["Extend"])),(n()(),u._26(-1,null,["\n            "]))],null,null)}function $(n){return u._28(0,[(n()(),u._4(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),u._26(1,null,["\n              ","\n            "]))],null,function(n,l){n(l,1,0,l.component.statusStr(l.parent.context.$implicit.status))})}function A(n){return u._28(0,[(n()(),u._26(-1,null,["\n              "])),(n()(),u._4(1,0,null,null,1,"div",[["class","closed"]],null,null,null,null,null)),(n()(),u._26(2,null,["\n                ","\n              "])),(n()(),u._26(-1,null,["\n            "]))],null,function(n,l){n(l,2,0,l.component.statusStr(l.parent.context.$implicit.status))})}function j(n){return u._28(0,[(n()(),u._4(0,0,null,null,4,"span",[["style","color: red;"]],null,null,null,null,null)),(n()(),u._26(1,null,["\n              ",""])),(n()(),u._4(2,0,null,null,1,"b",[],null,null,null,null,null)),(n()(),u._26(-1,null,["\u20bd"])),(n()(),u._26(-1,null,["\n            "]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.overdue_sum)})}function I(n){return u._28(0,[(n()(),u._26(-1,null,["\n              "])),(n()(),u._4(1,0,null,null,1,"div",[["class","overdue-zero"]],null,null,null,null,null)),(n()(),u._26(-1,null,["\n                -\n              "])),(n()(),u._26(-1,null,["\n            "]))],null,null)}function D(n){return u._28(0,[(n()(),u._4(0,0,null,null,44,"tr",[],null,null,null,null,null)),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(2,0,null,null,6,"td",[],null,null,null,null,null)),(n()(),u._26(-1,null,["\n            "])),(n()(),u._4(4,0,null,null,3,"div",[["class","thumb-wrap"]],null,null,null,null,null)),(n()(),u._26(-1,null,["\n              "])),(n()(),u._4(6,0,null,null,0,"img",[],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(n()(),u._26(-1,null,["\n            "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(10,0,null,null,4,"td",[],null,null,null,null,null)),(n()(),u._26(-1,null,["\n            "])),(n()(),u._4(12,0,null,null,1,"span",[["class","document-title"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.goToDocument(n.context.$implicit.document.document_id)&&u),u},null,null)),(n()(),u._26(13,null,["",""])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(16,0,null,null,4,"td",[],null,null,null,null,null)),(n()(),u._26(-1,null,["\n            "])),(n()(),u.Z(16777216,null,null,1,null,S)),u._3(19,16384,null,0,P.k,[u.N,u.K],{ngIf:[0,"ngIf"]},null),(n()(),u._26(-1,null,["\n          "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(22,0,null,null,6,"td",[["class","content-center"]],null,null,null,null,null)),(n()(),u._26(-1,null,["\n            "])),(n()(),u.Z(16777216,null,null,1,null,$)),u._3(25,16384,null,0,P.k,[u.N,u.K],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),u._26(-1,null,["\n            "])),(n()(),u.Z(0,[["closedStatus",2]],null,0,null,A)),(n()(),u._26(-1,null,["\n          "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(31,0,null,null,1,"td",[["class","date content-center"]],null,null,null,null,null)),(n()(),u._26(32,null,["\n            ","\n          "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(34,0,null,null,1,"td",[["class","date content-center"]],null,null,null,null,null)),(n()(),u._26(35,null,["\n            ","\n          "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(37,0,null,null,6,"td",[["class","content-center"]],null,null,null,null,null)),(n()(),u._26(-1,null,["\n            "])),(n()(),u.Z(16777216,null,null,1,null,j)),u._3(40,16384,null,0,P.k,[u.N,u.K],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),u._26(-1,null,["\n            "])),(n()(),u.Z(0,[["overdueZero",2]],null,0,null,I)),(n()(),u._26(-1,null,["\n          "])),(n()(),u._26(-1,null,["\n        "]))],function(n,l){n(l,19,0,1==l.context.$implicit.status&&!l.context.$implicit.document.is_bestseller&&l.context.$implicit.is_extendable),n(l,25,0,3!=l.context.$implicit.status,u._16(l,27)),n(l,40,0,l.context.$implicit.overdue_sum>0,u._16(l,42))},function(n,l){n(l,6,0,u._7(1,"",l.context.$implicit.document.cover.substr(0,l.context.$implicit.document.cover.length-1),"1"),u._7(1,"",l.context.$implicit.document.title,"")),n(l,13,0,l.context.$implicit.document.title),n(l,32,0,l.context.$implicit.date_accepted),n(l,35,0,l.context.$implicit.date_return)})}function E(n){return u._28(0,[u._19(0,C.a,[]),(n()(),u._4(1,0,null,null,50,"main",[["class","body"]],null,null,null,null,null)),(n()(),u._26(-1,null,["\n  "])),(n()(),u._4(3,0,null,null,47,"div",[["class","document-list col-lg-10 col-12 px-0 row mx-auto"]],null,null,null,null,null)),(n()(),u._26(-1,null,["\n    "])),(n()(),u._4(5,0,null,null,1,"app-navbar",[],null,null,null,f.b,f.a)),u._3(6,114688,null,0,b.a,[x.k],null,null),(n()(),u._26(-1,null,["\n    "])),(n()(),u._4(8,0,null,null,41,"div",[["class","table-responsive"]],null,null,null,null,null)),(n()(),u._26(-1,null,["\n      "])),(n()(),u._4(10,0,null,null,1,"p",[["class","text-muted italic mb-0"]],null,null,null,null,null)),(n()(),u._26(-1,null,["Order list:"])),(n()(),u._26(-1,null,["\n      "])),(n()(),u._4(13,0,null,null,35,"table",[["class","table"]],null,null,null,null,null)),(n()(),u._26(-1,null,["\n        "])),(n()(),u._4(15,0,null,null,24,"thead",[],null,null,null,null,null)),(n()(),u._26(-1,null,["\n        "])),(n()(),u._4(17,0,null,null,21,"tr",[],null,null,null,null,null)),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(19,0,null,null,0,"th",[["width","5%"]],null,null,null,null,null)),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(21,0,null,null,0,"th",[["width","35%"]],null,null,null,null,null)),(n()(),u._26(-1,null,[" "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(24,0,null,null,0,"th",[["width","5%"]],null,null,null,null,null)),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(26,0,null,null,1,"th",[["width","100px"]],null,null,null,null,null)),(n()(),u._26(-1,null,["Status"])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(29,0,null,null,1,"th",[["width","130px"]],null,null,null,null,null)),(n()(),u._26(-1,null,["Accepted"])),(n()(),u._26(-1,null,[" "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(33,0,null,null,1,"th",[["width","130px"]],null,null,null,null,null)),(n()(),u._26(-1,null,["Return"])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(36,0,null,null,1,"th",[["width","80px"]],null,null,null,null,null)),(n()(),u._26(-1,null,["Overdue"])),(n()(),u._26(-1,null,["\n        "])),(n()(),u._26(-1,null,["\n        "])),(n()(),u._26(-1,null,["\n        "])),(n()(),u._4(41,0,null,null,6,"tbody",[["id","searchResults"]],null,null,null,null,null)),(n()(),u._26(-1,null,["\n        "])),(n()(),u.Z(16777216,null,null,3,null,D)),u._3(44,802816,null,0,P.j,[u.N,u.K,u.q],{ngForOf:[0,"ngForOf"]},null),u._19(131072,P.b,[u.h]),u._21(46,1),(n()(),u._26(-1,null,["\n        "])),(n()(),u._26(-1,null,["\n      "])),(n()(),u._26(-1,null,["\n    "])),(n()(),u._26(-1,null,["\n  "])),(n()(),u._26(-1,null,["\n"])),(n()(),u._26(-1,null,["\n"]))],function(n,l){var t=l.component;n(l,6,0),n(l,44,0,u._27(l,44,0,n(l,46,0,u._16(l,0),u._27(l,44,0,u._16(l,45).transform(t.orders$)))))},null)}var q=u._0("app-orders",y,function(n){return u._28(0,[(n()(),u._4(0,0,null,null,1,"app-orders",[],null,null,null,E,k)),u._3(1,114688,null,0,y,[v.a,x.k],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),K=t("6txq"),T=t("SPKT"),R=t("7DMc"),Z=t("3kwk"),N=t("CXHW"),z=t("fAE3"),U=t("pv6e"),X=t("/1Uf"),B=t("8AXl"),H=t("rIqD"),W=t("HY4u"),F=t("TToO"),G=function(){function n(n,l,t){var u=this;this.actions$=n,this.userService=l,this.userActions=t,this.GetUserOrders$=this.actions$.ofType(W.a.GET_USER_ORDERS).switchMap(function(){return u.userService.getOrders()}).filter(function(n){return n.length>0}).map(function(n){return u.userActions.getUserOrdersSuccess(n)}),this.AddNewOrder$=this.actions$.ofType(W.a.ADD_NEW_ORDER).switchMap(function(n){return u.userService.bookTheDocument(n.payload)}).map(function(n){return u.userActions.addNewOrderSuccess(n)})}return Object(F.b)([Object(B.b)(),Object(F.d)("design:type",w.a)],n.prototype,"GetUserOrders$",void 0),Object(F.b)([Object(B.b)(),Object(F.d)("design:type",Object)],n.prototype,"AddNewOrder$",void 0),n}(),J=t("dyjq"),Y=t("rXch"),Q=t("eCJc"),L=t("RX2M"),V=t("F+yc"),nn=t("/I96"),ln=t("vfkA"),tn=t("qsK9"),un=t("MSQt"),en=t("UyZi"),on=t("Ep2y"),cn=t("WKBe"),rn=t("1Z2I"),an=t("A8b0"),_n=t("as+d"),dn=t("62nT"),sn=t("yDyO"),pn=t("K/oD"),gn=t("kzcK"),hn=t("DX+K"),mn=t("YHl+"),On=t("ZQSA"),Mn=t("OjCH"),Pn=t("Apu7"),Cn=t("jkKh"),fn=t("bUIH"),bn=t("xA6g"),xn=t("IgB2"),vn=t("330S");t.d(l,"UserModuleNgFactory",function(){return wn});var wn=u._1(e,[],function(n){return u._12([u._13(512,u.j,u.X,[[8,[o.a,c.a,i.a,r.a,a.a,_.a,d.a,s.a,p.a,g.a,h.a,m.a,O.a,M.a,q]],[3,u.j],u.v]),u._13(4608,P.m,P.l,[u.s,[2,P.s]]),u._13(4608,K.c,K.a,[]),u._13(5120,K.b,K.d,[K.c,u.z]),u._13(4608,T.a,T.a,[]),u._13(4608,R.d,R.d,[]),u._13(4608,R.s,R.s,[]),u._13(4608,Z.a,Z.a,[u.j,u.p,N.a]),u._13(512,P.c,P.c,[]),u._13(512,z.a,z.a,[]),u._13(512,R.q,R.q,[]),u._13(512,R.n,R.n,[]),u._13(512,U.a,U.a,[]),u._13(512,X.a,X.a,[B.a,H.a,U.a]),u._13(512,W.a,W.a,[]),u._13(512,G,G,[B.a,v.a,W.a]),u._13(1024,B.h,function(n,l){return[B.d(n),B.d(l)]},[X.a,G]),u._13(512,B.f,B.f,[B.e,B.h,[2,J.o],[2,J.n]]),u._13(512,Y.a,Y.a,[]),u._13(512,Q.a,Q.a,[]),u._13(512,L.a,L.a,[]),u._13(512,V.a,V.a,[]),u._13(512,nn.a,nn.a,[]),u._13(512,ln.a,ln.a,[]),u._13(512,R.g,R.g,[]),u._13(512,tn.a,tn.a,[]),u._13(512,un.a,un.a,[]),u._13(512,en.a,en.a,[]),u._13(512,on.a,on.a,[]),u._13(512,cn.a,cn.a,[]),u._13(512,rn.a,rn.a,[]),u._13(512,an.a,an.a,[]),u._13(512,_n.a,_n.a,[]),u._13(512,dn.a,dn.a,[]),u._13(512,sn.a,sn.a,[]),u._13(512,pn.a,pn.a,[]),u._13(512,gn.a,gn.a,[]),u._13(512,x.o,x.o,[[2,x.t],[2,x.k]]),u._13(512,hn.a,hn.a,[]),u._13(512,e,e,[]),u._13(1024,x.i,function(){return[[{path:"librarian",canActivate:[mn.a],data:{expectedRole:310},children:[{path:"",component:On.a},{path:"user-list",component:Mn.a},{path:"user/:id",children:[{path:"edit",component:Pn.a},{path:"",component:Cn.a}]},{path:"document-list",children:[{path:"add",component:fn.a},{path:"",component:bn.a}]},{path:"order-list",component:xn.a},{path:"tag-list",component:bn.a}]}],[{path:"",canActivate:[vn.a],children:[{path:"profile",children:[{path:"",component:Cn.a},{path:"edit",component:Pn.a}]},{path:"orders",children:[{path:"",component:y}]}]}]]},[])])})}});