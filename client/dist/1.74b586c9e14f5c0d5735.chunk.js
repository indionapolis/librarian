webpackJsonp([1],{r5ef:function(n,l,t){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var u=t("WT6e"),e=function(){},o=t("4qxJ"),c=t("qmzJ"),i=t("SYiH"),a=t("0DDR"),r=t("2MpB"),_=t("h4vs"),d=t("1Wt5"),s=t("LOqq"),p=t("uNW3"),g=t("aKv1"),h=t("A7mk"),m=t("B1h7"),O=t("vtGr"),f=t("kzt6"),x=t("Xjw4"),M=t("o0PC"),b=t("dZ8C"),C=t("5Zt4"),P=t("fTw0"),v=t("bfOx"),w=t("tzB8"),y=t("YaPU"),k=function(){function n(n){this.userService=n}return n.prototype.ngOnInit=function(){this.reloadState()},n.prototype.reloadState=function(){var n=this;this.userService.getOrders().subscribe(function(l){n.orders$=y.a.of(l)})},n.prototype.statusStr=function(n){return 0==n?"Requested":1==n?"Booked":2==n?"Overdue":3==n?"Closed":4==n?"Extended":void 0},n.prototype.extendOrder=function(n){var l=this;this.userService.setStatusForMyOrder(n,4).subscribe(function(n){l.userService.getOrders().subscribe(function(n){l.orders$=y.a.of(n),l.reloadState()})})},n}(),S=u._2({encapsulation:0,styles:[[".document-list[_ngcontent-%COMP%]{margin:50px 0}.document-list[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:0}.document-list[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{padding:8px 20px 8px 10px;cursor:pointer;float:right;height:34px}.document-list[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]   .loupe[_ngcontent-%COMP%]{width:20px;height:20px;display:inline-block}.document-list[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{background:0 0;border:0;line-height:10px;width:50px;outline:0;position:relative}.document-list[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{top:8px;right:10px;position:absolute}.document-list[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]{height:34px;margin:0 10px 0 0}.document-list[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{float:left}.document-list[_ngcontent-%COMP%]   #documentSearchProps[_ngcontent-%COMP%]{width:100px;height:20px;padding:0 27px 0 0;margin-right:15px;margin-top:8px;border-right:1px solid #dee2e6}.document-list[_ngcontent-%COMP%]   #documentSearchProps[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{float:right}.document-list[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{right:22px!important;top:32px!important}.document-list[_ngcontent-%COMP%]   #documentSearch[_ngcontent-%COMP%]{padding-right:165px}.document-list[_ngcontent-%COMP%]   .thumb-wrap[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:3px;-webkit-box-shadow:0 3px 5px #eee;box-shadow:0 3px 5px #eee;overflow:hidden}.document-list[_ngcontent-%COMP%]   .thumb-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.document-list[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{background:#fff;padding:40px}.document-list[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top:none}.document-list[_ngcontent-%COMP%]   .document-authors[_ngcontent-%COMP%]{padding:0;margin-bottom:5px;color:#777}.document-list[_ngcontent-%COMP%]   .document-authors[_ngcontent-%COMP%]   .document-author[_ngcontent-%COMP%]{list-style:none;padding:0;display:block}.document-list[_ngcontent-%COMP%]   .document-link[_ngcontent-%COMP%]{display:block;color:inherit;text-decoration:none}.document-list[_ngcontent-%COMP%]   .document-title[_ngcontent-%COMP%]{width:100%;float:left;color:#7b79b7;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.document-list[_ngcontent-%COMP%]   .document-type[_ngcontent-%COMP%]{font-size:15px;color:#777}.document-list[_ngcontent-%COMP%]   .table-link[_ngcontent-%COMP%]{float:left;margin:9px;cursor:pointer;outline:0;opacity:.2;-webkit-transition:opacity .2s;transition:opacity .2s}.document-list[_ngcontent-%COMP%]   .table-link[_ngcontent-%COMP%]:hover{opacity:.5!important}.document-list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .table-link[_ngcontent-%COMP%]{opacity:.3}.document-list[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background-color:#ff0}.document-list[_ngcontent-%COMP%]   #orderStatus[_ngcontent-%COMP%]{width:100px;height:20px;padding:0 27px 0 0;margin-top:8px}.document-list[_ngcontent-%COMP%]   #orderStatus[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{float:right}.document-list[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.document-list[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{margin-top:0!important}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;overflow:inherit;min-width:830px}"]],data:{}});function $(n){return u._28(0,[(n()(),u._4(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),u._26(-1,null,["\n              "])),(n()(),u._4(2,0,null,null,1,"button",[["class","btn btn-link"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.extendOrder(n.parent.context.$implicit.order_id)&&u),u},null,null)),(n()(),u._26(-1,null,["Extend"])),(n()(),u._26(-1,null,["\n            "]))],null,null)}function A(n){return u._28(0,[(n()(),u._4(0,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),u._26(1,null,["",""])),(n()(),u._4(2,0,null,null,1,"b",[],null,null,null,null,null)),(n()(),u._26(-1,null,["\u20bd"]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.overdue_sum)})}function j(n){return u._28(0,[(n()(),u._26(-1,null,["-"]))],null,null)}function q(n){return u._28(0,[(n()(),u._4(0,0,null,null,46,"tr",[],null,null,null,null,null)),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(2,0,null,null,6,"td",[],null,null,null,null,null)),(n()(),u._26(-1,null,["\n            "])),(n()(),u._4(4,0,null,null,3,"div",[["class","thumb-wrap"]],null,null,null,null,null)),(n()(),u._26(-1,null,["\n              "])),(n()(),u._4(6,0,null,null,0,"img",[],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(n()(),u._26(-1,null,["\n            "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(10,0,null,null,11,"td",[],null,null,null,null,null)),(n()(),u._26(-1,null,["\n            "])),(n()(),u._4(12,0,null,null,8,"a",[],[[8,"href",4]],null,null,null,null)),(n()(),u._26(-1,null,["\n            "])),(n()(),u._4(14,0,null,null,1,"span",[["class","document-title"]],null,null,null,null,null)),(n()(),u._26(15,null,["",""])),(n()(),u._26(-1,null,["\n            "])),(n()(),u._4(17,0,null,null,2,"span",[["class","document-type"]],null,null,null,null,null)),(n()(),u._26(18,null,["","\n                  ","\n            "])),u._21(19,1),(n()(),u._26(-1,null,["\n            "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(23,0,null,null,4,"td",[],null,null,null,null,null)),(n()(),u._26(-1,null,["\n            "])),(n()(),u.Z(16777216,null,null,1,null,$)),u._3(26,16384,null,0,x.k,[u.N,u.K],{ngIf:[0,"ngIf"]},null),(n()(),u._26(-1,null,["\n          "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(29,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),u._26(30,null,["\n            ","\n          "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(33,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),u._26(34,null,["\n            ","\n          "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(36,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),u._26(37,null,["\n            ","\n          "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(39,0,null,null,6,"td",[],null,null,null,null,null)),(n()(),u._26(-1,null,["\n            "])),(n()(),u.Z(16777216,null,null,1,null,A)),u._3(42,16384,null,0,x.k,[u.N,u.K],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),u._26(-1,null,["\n            "])),(n()(),u.Z(0,[["overdueZero",2]],null,0,null,j)),(n()(),u._26(-1,null,["\n          "])),(n()(),u._26(-1,null,["\n        "]))],function(n,l){n(l,26,0,1==l.context.$implicit.status&&!l.context.$implicit.document.is_bestseller&&l.context.$implicit.is_extendable),n(l,42,0,l.context.$implicit.overdue_sum>0,u._16(l,44))},function(n,l){var t=l.component;n(l,6,0,u._7(1,"",l.context.$implicit.document.cover.substr(0,l.context.$implicit.document.cover.length-1),"1"),u._7(1,"",l.context.$implicit.document.title,"")),n(l,12,0,u._7(1,"/documents/",l.context.$implicit.document.document_id,"")),n(l,15,0,l.context.$implicit.document.title),n(l,18,0,u._27(l,18,0,n(l,19,0,u._16(l.parent,1),l.context.$implicit.document.type)),l.context.$implicit.document.authors.length?"by "+l.context.$implicit.document.authors[0].name:""),n(l,30,0,t.statusStr(l.context.$implicit.status)),n(l,34,0,l.context.$implicit.date_accepted),n(l,37,0,l.context.$implicit.date_return)})}function D(n){return u._28(0,[u._19(0,M.a,[]),u._19(0,b.b,[]),(n()(),u._4(2,0,null,null,50,"main",[["class","body"]],null,null,null,null,null)),(n()(),u._26(-1,null,["\n  "])),(n()(),u._4(4,0,null,null,47,"div",[["class","document-list col-lg-10 col-12 px-0 row mx-auto"]],null,null,null,null,null)),(n()(),u._26(-1,null,["\n    "])),(n()(),u._4(6,0,null,null,1,"app-navbar",[],null,null,null,C.b,C.a)),u._3(7,114688,null,0,P.a,[v.k],null,null),(n()(),u._26(-1,null,["\n    "])),(n()(),u._4(9,0,null,null,41,"div",[["class","table-responsive"]],null,null,null,null,null)),(n()(),u._26(-1,null,["\n      "])),(n()(),u._4(11,0,null,null,1,"p",[["class","text-muted italic mb-0"]],null,null,null,null,null)),(n()(),u._26(-1,null,["Order list:"])),(n()(),u._26(-1,null,["\n      "])),(n()(),u._4(14,0,null,null,35,"table",[["class","table"]],null,null,null,null,null)),(n()(),u._26(-1,null,["\n        "])),(n()(),u._4(16,0,null,null,24,"thead",[],null,null,null,null,null)),(n()(),u._26(-1,null,["\n        "])),(n()(),u._4(18,0,null,null,21,"tr",[],null,null,null,null,null)),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(20,0,null,null,0,"th",[["width","5%"]],null,null,null,null,null)),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(22,0,null,null,0,"th",[["width","35%"]],null,null,null,null,null)),(n()(),u._26(-1,null,[" "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(25,0,null,null,0,"th",[["width","5%"]],null,null,null,null,null)),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(27,0,null,null,1,"th",[["width","100px"]],null,null,null,null,null)),(n()(),u._26(-1,null,["Status"])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(30,0,null,null,1,"th",[["width","130px"]],null,null,null,null,null)),(n()(),u._26(-1,null,["Accepted"])),(n()(),u._26(-1,null,[" "])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(34,0,null,null,1,"th",[["width","130px"]],null,null,null,null,null)),(n()(),u._26(-1,null,["Return"])),(n()(),u._26(-1,null,["\n          "])),(n()(),u._4(37,0,null,null,1,"th",[["width","130px"]],null,null,null,null,null)),(n()(),u._26(-1,null,["Overdue sum"])),(n()(),u._26(-1,null,["\n        "])),(n()(),u._26(-1,null,["\n        "])),(n()(),u._26(-1,null,["\n        "])),(n()(),u._4(42,0,null,null,6,"tbody",[["id","searchResults"]],null,null,null,null,null)),(n()(),u._26(-1,null,["\n        "])),(n()(),u.Z(16777216,null,null,3,null,q)),u._3(45,802816,null,0,x.j,[u.N,u.K,u.q],{ngForOf:[0,"ngForOf"]},null),u._19(131072,x.b,[u.h]),u._21(47,1),(n()(),u._26(-1,null,["\n        "])),(n()(),u._26(-1,null,["\n      "])),(n()(),u._26(-1,null,["\n    "])),(n()(),u._26(-1,null,["\n  "])),(n()(),u._26(-1,null,["\n"])),(n()(),u._26(-1,null,["\n"]))],function(n,l){var t=l.component;n(l,7,0),n(l,45,0,u._27(l,45,0,n(l,47,0,u._16(l,0),u._27(l,45,0,u._16(l,46).transform(t.orders$)))))},null)}var I=u._0("app-orders",k,function(n){return u._28(0,[(n()(),u._4(0,0,null,null,1,"app-orders",[],null,null,null,D,S)),u._3(1,114688,null,0,k,[w.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),E=t("6txq"),K=t("SPKT"),R=t("7DMc"),T=t("3kwk"),Z=t("CXHW"),N=t("fAE3"),U=t("pv6e"),X=t("/1Uf"),z=t("8AXl"),B=t("rIqD"),H=t("HY4u"),W=t("TToO"),F=function(){function n(n,l,t){var u=this;this.actions$=n,this.userService=l,this.userActions=t,this.GetUserOrders$=this.actions$.ofType(H.a.GET_USER_ORDERS).switchMap(function(){return u.userService.getOrders()}).filter(function(n){return n.length>0}).map(function(n){return u.userActions.getUserOrdersSuccess(n)}),this.AddNewOrder$=this.actions$.ofType(H.a.ADD_NEW_ORDER).switchMap(function(n){return u.userService.bookTheDocument(n.payload)}).map(function(n){return u.userActions.addNewOrderSuccess(n)})}return Object(W.b)([Object(z.b)(),Object(W.d)("design:type",y.a)],n.prototype,"GetUserOrders$",void 0),Object(W.b)([Object(z.b)(),Object(W.d)("design:type",Object)],n.prototype,"AddNewOrder$",void 0),n}(),G=t("dyjq"),J=t("rXch"),Y=t("eCJc"),Q=t("RX2M"),L=t("F+yc"),V=t("/I96"),nn=t("vfkA"),ln=t("qsK9"),tn=t("MSQt"),un=t("UyZi"),en=t("Ep2y"),on=t("WKBe"),cn=t("1Z2I"),an=t("A8b0"),rn=t("as+d"),_n=t("62nT"),dn=t("yDyO"),sn=t("K/oD"),pn=t("kzcK"),gn=t("DX+K"),hn=t("YHl+"),mn=t("ZQSA"),On=t("OjCH"),fn=t("Apu7"),xn=t("jkKh"),Mn=t("bUIH"),bn=t("xA6g"),Cn=t("IgB2"),Pn=t("330S");t.d(l,"UserModuleNgFactory",function(){return vn});var vn=u._1(e,[],function(n){return u._12([u._13(512,u.j,u.X,[[8,[o.a,c.a,i.a,a.a,r.a,_.a,d.a,s.a,p.a,g.a,h.a,m.a,O.a,f.a,I]],[3,u.j],u.v]),u._13(4608,x.m,x.l,[u.s,[2,x.s]]),u._13(4608,E.c,E.a,[]),u._13(5120,E.b,E.d,[E.c,u.z]),u._13(4608,K.a,K.a,[]),u._13(4608,R.d,R.d,[]),u._13(4608,R.s,R.s,[]),u._13(4608,T.a,T.a,[u.j,u.p,Z.a]),u._13(512,x.c,x.c,[]),u._13(512,N.a,N.a,[]),u._13(512,R.q,R.q,[]),u._13(512,R.n,R.n,[]),u._13(512,U.a,U.a,[]),u._13(512,X.a,X.a,[z.a,B.a,U.a]),u._13(512,H.a,H.a,[]),u._13(512,F,F,[z.a,w.a,H.a]),u._13(1024,z.h,function(n,l){return[z.d(n),z.d(l)]},[X.a,F]),u._13(512,z.f,z.f,[z.e,z.h,[2,G.o],[2,G.n]]),u._13(512,J.a,J.a,[]),u._13(512,Y.a,Y.a,[]),u._13(512,Q.a,Q.a,[]),u._13(512,L.a,L.a,[]),u._13(512,V.a,V.a,[]),u._13(512,nn.a,nn.a,[]),u._13(512,R.g,R.g,[]),u._13(512,ln.a,ln.a,[]),u._13(512,tn.a,tn.a,[]),u._13(512,un.a,un.a,[]),u._13(512,en.a,en.a,[]),u._13(512,on.a,on.a,[]),u._13(512,cn.a,cn.a,[]),u._13(512,an.a,an.a,[]),u._13(512,rn.a,rn.a,[]),u._13(512,_n.a,_n.a,[]),u._13(512,dn.a,dn.a,[]),u._13(512,sn.a,sn.a,[]),u._13(512,pn.a,pn.a,[]),u._13(512,v.o,v.o,[[2,v.t],[2,v.k]]),u._13(512,gn.a,gn.a,[]),u._13(512,e,e,[]),u._13(1024,v.i,function(){return[[{path:"librarian",canActivate:[hn.a],data:{expectedRole:300},children:[{path:"",component:mn.a},{path:"user-list",component:On.a},{path:"user/:id",children:[{path:"edit",component:fn.a},{path:"",component:xn.a}]},{path:"document-list",children:[{path:"add",component:Mn.a},{path:"",component:bn.a}]},{path:"order-list",component:Cn.a},{path:"tag-list",component:bn.a}]}],[{path:"",canActivate:[Pn.a],children:[{path:"profile",children:[{path:"",component:xn.a},{path:"edit",component:fn.a}]},{path:"orders",children:[{path:"",component:k}]}]}]]},[])])})}});